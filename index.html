<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amrit Vela Blessings</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Noto+Serif+Gurmukhi:wght@500&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  font-family:'Inter',sans-serif;
  color:#fff;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  background:url("./eeman.jpeg") center/cover no-repeat fixed;
  animation:zoomBg 50s ease-in-out infinite alternate;
}
@keyframes zoomBg{
  0%{transform:scale(1);}
  100%{transform:scale(1.05);}
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  backdrop-filter:blur(6px);
  z-index:-1;
}

/* Time overlay fully black */
#timeOverlay{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:30px;
  z-index:9999;
  color:#f3d38f;
  font-family:'Noto Serif Gurmukhi';
  font-size:22px;
  line-height:1.8;
  font-weight:500;
}

/* Main card */
.card{
  background:rgba(255,255,255,0.07);
  backdrop-filter:blur(20px);
  border-radius:30px;
  padding:50px 40px;
  width:90%;
  max-width:720px;
  text-align:center;
  box-shadow:0 25px 80px rgba(0,0,0,0.5);
  position:relative;
  overflow:hidden;
}

/* Khanda floating */
.khanda{
  font-size:80px;
  color:#f3d38f;
  text-shadow:0 0 30px #f3d38f;
  animation:float 4s infinite ease-in-out;
  cursor:pointer;
  margin-bottom:20px;
}
@keyframes float{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-15px);}
}

/* Tabs */
.tabs{
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
  margin-top:30px;
}
.tab{
  padding:12px 26px;
  border-radius:30px;
  border:1px solid #f3d38f;
  color:#f3d38f;
  cursor:pointer;
  font-weight:500;
  transition:0.3s;
}
.tab:hover{background:rgba(243,211,143,0.2);}
.tab.active{
  background:#f3d38f;
  color:#111;
}
.tab-content{
  display:none;
  margin-top:25px;
  color:#f3d38f;
  font-size:18px;
  line-height:1.7;
  width:100%;
  max-width:100%;
  word-wrap: break-word;
}
.tab-content.active{display:block}
button{
  padding:12px 28px;
  border:none;
  border-radius:22px;
  background:#f3d38f;
  cursor:pointer;
  font-weight:500;
  margin-top:12px;
}
button:hover{
  background:#d4af37;
}

/* motivational text emphasis */
h1{
  font-size:42px;
  margin-bottom:6px;
}
p{
  font-size:18px;
  margin-bottom:18px;
}

/* Responsive for mobile */
@media (max-width:768px){
  .card{padding:30px 20px;}
  h1{font-size:36px;}
  .tab-content{font-size:16px; line-height:1.6;}
  .khanda{font-size:60px; margin-bottom:15px;}
}
</style>
</head>
<body>

<!-- TIME LOCK OVERLAY -->
<div id="timeOverlay">
  <div>
    ðŸŒŸ This space awakens during Amrit Vela ðŸŒŸ<br><br>
    From 3:00 AM to 6:00 AM<br>
    A sacred window for clarity, courage, and inner strength.<br><br>
    Designed to boost you for your big day,<br>
    fill your heart with confidence,<br>
    and guide your steps with faith.<br><br>
    Come back during these hours and feel ready.<br><br>
    With belief in you,<br>
    â€” From D.<br><br>
    Waheguru walks beside those who walk with faith.
  </div>
</div>

<!-- MAIN CARD -->
<div class="card" id="mainContent" style="display:none">
  <div class="khanda" id="khanda">â˜¬</div>
  <h1>Good Morning Eeman</h1>
  <p>Quietly created for your growth and success today</p>

  <div class="tabs">
    <div class="tab active" data-tab="rakh">Rakh Charna</div>
    <div class="tab" data-tab="affirm">Affirmations</div>
    <div class="tab" data-tab="secret">Secret Blessing</div>
  </div>

  <div id="rakh" class="tab-content active">
    <button onclick="playRakh(event)">Play Rakh Charna</button>
  </div>

  <div id="affirm" class="tab-content">
    <p>I am calm. I am ready. Waheguru walks beside me.<br>
    I am prepared to face today with courage and joy.<br>
    Each step I take brings me closer to success and growth.</p>
  </div>

  <div id="secret" class="tab-content">
    <p id="secretText">Tap the Khandaâ€¦</p>
  </div>
</div>

<!-- AUDIO FILES -->
<audio id="aisanaam" loop>
  <source src="./aisanaam.mp3">
</audio>
<audio id="rakhcharna">
  <source src="./rakhcharna.mp3">
</audio>

<script>
const aisanaam=document.getElementById("aisanaam");
const rakh=document.getElementById("rakhcharna");
let currentAudio=null;
let userStarted=false;

// Fade out audio smoothly
async function fadeOut(audio){
  return new Promise(resolve=>{
    let fade=setInterval(()=>{
      if(audio.volume>0.05){
        audio.volume-=0.05;
      }else{
        audio.pause();
        clearInterval(fade);
        resolve();
      }
    },80);
  });
}

// Play audio with fade in
async function playAudio(audio){
  if(currentAudio && currentAudio!==audio){
    await fadeOut(currentAudio);
  }
  audio.currentTime=0;
  audio.volume=0;
  audio.play();
  currentAudio=audio;
  let fade=setInterval(()=>{
    if(audio.volume<0.3) audio.volume+=0.02;
    else clearInterval(fade);
  },120);
}

// Play Rakh Charna smoothly
function playRakh(event){
  event.stopPropagation();
  if(!rakh.paused) return; // prevent multiple clicks conflict
  if(!aisanaam.paused){
    fadeOut(aisanaam).then(()=>{
      rakh.currentTime=0;
      rakh.volume=0;
      rakh.play();
      currentAudio=rakh;
      let fade=setInterval(()=>{
        if(rakh.volume<0.3) rakh.volume+=0.02;
        else clearInterval(fade);
      },120);
    });
  } else {
    rakh.currentTime=0;
    rakh.volume=0;
    rakh.play();
    currentAudio=rakh;
    let fade=setInterval(()=>{
      if(rakh.volume<0.3) rakh.volume+=0.02;
      else clearInterval(fade);
    },120);
  }
  rakh.onended = ()=> playAudio(aisanaam);
}

// Start Aisa Naam on first click anywhere
document.body.addEventListener("click",()=>{
  if(!userStarted){
    playAudio(aisanaam);
    userStarted=true;
  }
});

// TIME LOCK 3AMâ€“6AM (more precise)
const overlay=document.getElementById("timeOverlay");
const content=document.getElementById("mainContent");
function checkTime(){
  const now = new Date();
  const h = now.getHours();
  const m = now.getMinutes();
  if((h > 3 && h < 6) || (h === 3 && m >= 0)){
    overlay.style.display="none";
    content.style.display="block";
    document.body.classList.add("awaken");
  } else {
    overlay.style.display="flex";
    content.style.display="none";
  }
}
setInterval(checkTime, 30000);
checkTime();

// Tabs functionality
document.querySelectorAll(".tab").forEach(tab=>{
  tab.onclick=()=>{
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(c=>c.classList.remove("active"));
    tab.classList.add("active");
    document.getElementById(tab.dataset.tab).classList.add("active");
  }
});

// Khanda click for secret blessing
document.getElementById("khanda").onclick=()=>{
  document.getElementById("secretText").innerText=
    "Someone believes in you with full faith and wanted to see you grow! Big Day coming up! Be prepared.";
};
</script>
</body>
</html>
