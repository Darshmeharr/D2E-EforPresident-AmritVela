<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amrit Vela Blessings</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Noto+Serif+Gurmukhi:wght@500&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:'Inter',sans-serif;
color:#fff;
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;
background:url("./eeman.jpeg") center/cover no-repeat fixed;
}

/* Spiritual overlay */
body::before{
content:"";
position:fixed;
inset:0;
background:rgba(0,0,0,0.65);
backdrop-filter:blur(6px);
z-index:-1;
}

/* Time Overlay */
#timeOverlay{
position:fixed;
inset:0;
background:#000;
display:flex;
justify-content:center;
align-items:center;
text-align:center;
padding:30px;
z-index:9999;
font-family:'Noto Serif Gurmukhi', serif;
color:#f3d38f;
line-height:1.7;
animation:fadeIn 2s ease;
}

@keyframes fadeIn{
from{opacity:0}
to{opacity:1}
}

/* Card */
.card{
background:rgba(255,255,255,0.07);
backdrop-filter:blur(20px);
border-radius:30px;
padding:45px;
width:90%;
max-width:720px;
text-align:center;
box-shadow:0 20px 60px rgba(0,0,0,0.5);
position:relative;
overflow:hidden;
}

/* Warm Aura */
.card::before{
content:"";
position:absolute;
inset:-40%;
background:radial-gradient(circle, rgba(243,211,143,0.18), transparent 70%);
animation:pulseAura 6s infinite ease-in-out;
pointer-events:none;
}

@keyframes pulseAura{
0%,100%{opacity:.4}
50%{opacity:.7}
}

/* Khanda */
.khanda{
font-size:70px;
color:#f3d38f;
text-shadow:0 0 25px #f3d38f;
animation:float 4s infinite ease-in-out;
}

@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-12px)}
}

/* Text */
h1{
font-family:'Noto Serif Gurmukhi', serif;
font-size:38px;
margin-bottom:6px;
}

.subtitle{
color:#f3d38f;
font-style:italic;
opacity:.9;
}

/* Gurbani */
.gurbani{
margin-top:18px;
color:#f3d38f;
opacity:0;
transition:opacity 3s ease;
}

.gurbani.show{opacity:1}

/* Tabs */
.tabs{
display:flex;
justify-content:center;
gap:12px;
flex-wrap:wrap;
margin-top:20px;
}

.tab{
padding:10px 22px;
border-radius:30px;
border:1px solid #f3d38f;
color:#f3d38f;
cursor:pointer;
transition:.3s;
}

.tab.active{
background:#f3d38f;
color:#111;
}

/* Tab Content */
.tab-content{
display:none;
margin-top:20px;
line-height:1.6;
color:#f3d38f;
}

.tab-content.active{display:block}

/* Button */
button{
margin-top:15px;
padding:12px 30px;
border:none;
border-radius:30px;
background:#d4af37;
cursor:pointer;
}

/* Blessing Particles */
.spark{
position:absolute;
width:6px;
height:6px;
background:#f3d38f;
border-radius:50%;
animation:spark 1s forwards;
}

@keyframes spark{
0%{opacity:1; transform:translateY(0)}
100%{opacity:0; transform:translateY(-25px)}
}

.volume-control{margin-top:20px;}
input[type=range]{width:150px;}

</style>
</head>

<body>

<div id="timeOverlay">
<div>
This space awakens during Amrit Vela.<br><br>

From 3:00 AM to 6:00 AM 
a time meant for clarity, strength, and quiet reflection.<br><br>

It was created so you begin your big day with calmness,
confidence,
and faith in your journey.<br><br>

Return during these sacred hours.<br><br>

With belief in you,<br>
— From D.<br><br>

Waheguru walks beside those who walk with faith.
</div>
</div>

<div class="card" id="mainContent" style="display:none">

<div class="khanda">☬</div>

<h1>Good Morning Eeman</h1>
<div class="subtitle">Made with quiet prayers for your big day</div>

<div class="gurbani" id="gurbani">
ਮਨ ਤੂੰ ਜੋਤਿ ਸਰੂਪੁ ਹੈ ਆਪਣਾ ਮੂਲੁ ਪਛਾਣੁ ॥
</div>

<div class="tabs">
<div class="tab active" data-tab="rakh">Rakh Charna</div>
<div class="tab" data-tab="affirm">Affirmations</div>
<div class="tab" data-tab="bless">Blessings</div>
</div>

<div id="rakh" class="tab-content active">
<p>Let calmness lead your steps today.</p>
<button onclick="playRakh()">Play Rakh Charna</button>
</div>

<div id="affirm" class="tab-content">
<p>
I am calm.<br>
I am prepared.<br>
I trust my journey.<br>
Waheguru walks beside me.
</p>
</div>

<div id="bless" class="tab-content">
<p>
May peace hold your heart.<br>
May clarity guide your thoughts.<br>
May confidence follow your effort.
</p>
</div>

<div class="volume-control">
<label>Volume</label>
<input type="range" id="volume" min="0" max="1" step="0.01" value="0.3">
</div>

</div>

<audio id="aisanaam" loop>
<source src="./aisanaam.mp3">
</audio>

<audio id="rakhcharna">
<source src="./rakhcharna.mp3">
</audio>

<script>

/* AUDIO CONTROLLER (NO CLASH GUARANTEED) */

const aisanaam=document.getElementById("aisanaam");
const rakh=document.getElementById("rakhcharna");
let currentAudio=null;

function fadeOut(audio){
return new Promise(resolve=>{
let fade=setInterval(()=>{
if(audio.volume>0.05){
audio.volume-=0.05;
}else{
audio.pause();
clearInterval(fade);
resolve();
}
},100);
});
}

async function playAudio(audio){
if(currentAudio && currentAudio!==audio){
await fadeOut(currentAudio);
}
audio.volume=document.getElementById("volume").value;
audio.currentTime=0;
audio.play();
currentAudio=audio;
}

/* Rakh Charna */
function playRakh(){
playAudio(rakh);
rakh.onended=()=> playAudio(aisanaam);
}

/* Attempt autoplay */
function attemptAutoPlay(){
playAudio(aisanaam).catch(()=>{
document.body.addEventListener("click",()=> playAudio(aisanaam),{once:true});
});
}

/* Volume */
document.getElementById("volume").addEventListener("input",e=>{
if(currentAudio) currentAudio.volume=e.target.value;
});

/* TIME LOCK */

const overlay=document.getElementById("timeOverlay");
const content=document.getElementById("mainContent");
const gurbani=document.getElementById("gurbani");

function checkTime(){
let h=new Date().getHours();

if(h>=3 && h<6){
overlay.style.display="none";
content.style.display="block";
setTimeout(()=> gurbani.classList.add("show"),1500);
attemptAutoPlay();
}else{
overlay.style.display="flex";
content.style.display="none";
}
}

setInterval(checkTime,60000);
checkTime();

/* Tabs + particles */
const card=document.querySelector(".card");

document.querySelectorAll(".tab").forEach(tab=>{
tab.onclick=()=>{
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
document.querySelectorAll(".tab-content").forEach(c=>c.classList.remove("active"));

tab.classList.add("active");
document.getElementById(tab.dataset.tab).classList.add("active");

for(let i=0;i<5;i++){
let s=document.createElement("div");
s.className="spark";
s.style.left=Math.random()*100+"%";
s.style.top=Math.random()*100+"%";
card.appendChild(s);
setTimeout(()=>s.remove(),1000);
}
}
});

</script>

</body>
</html>
