<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amrit Vela - D2E</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Noto+Serif+Gurmukhi:wght@500&display=swap" rel="stylesheet">

<style>

/* ---------- BODY ---------- */

body{
  margin:0;
  font-family:'Inter',sans-serif;
  color:white;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  background:url("./eeman.jpeg") center/cover no-repeat fixed;
  animation:zoomBg 40s ease-in-out infinite alternate;
}

@keyframes zoomBg{
  from{transform:scale(1);}
  to{transform:scale(1.06);}
}

/* Sunrise unlock glow */
body.awaken::before{
  animation:sunrise 3s ease forwards;
}

@keyframes sunrise{
  from{background:rgba(0,0,0,0.8);}
  to{background:rgba(0,0,0,0.5);}
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.75);
  backdrop-filter:blur(7px);
  z-index:-1;
}


/* ---------- PARTICLES ---------- */

.particles{
  position:fixed;
  inset:0;
  pointer-events:none;
}

.particle{
  position:absolute;
  width:4px;
  height:4px;
  background:#f3d38f;
  border-radius:50%;
  opacity:0.25;
  animation:floatParticle 12s linear infinite;
}

@keyframes floatParticle{
  from{
    transform:translateY(100vh);
    opacity:0;
  }
  50%{opacity:0.3;}
  to{
    transform:translateY(-10vh);
    opacity:0;
  }
}


/* ---------- LOCK SCREEN ---------- */

#timeOverlay{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at center, #111 0%, #000 70%);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index:9999;
  transition:opacity 1.2s ease;
}

.clock{
  font-size:70px;
  color:#f3d38f;
  letter-spacing:3px;
}

.lockHint{
  margin-top:25px;
  font-size:14px;
  opacity:0.6;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  50%{opacity:0.2;}
}


/* ---------- CARD ---------- */

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(25px);
  border-radius:35px;
  padding:55px 40px;
  width:90%;
  max-width:700px;
  text-align:center;
  box-shadow:0 25px 80px rgba(0,0,0,0.6);
  animation:fadeIn 1.5s ease;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(30px);}
  to{opacity:1; transform:translateY(0);}
}


/* ---------- KHANDA ---------- */

.khanda{
  font-size:85px;
  color:#f3d38f;
  margin-bottom:18px;
  text-shadow:0 0 25px rgba(243,211,143,0.7);
  cursor:pointer;
  position:relative;
}

/* Ripple aura */
.khanda::after{
  content:"";
  position:absolute;
  inset:-20px;
  border-radius:50%;
  border:2px solid rgba(243,211,143,0.2);
  animation:ripple 3s infinite;
}

@keyframes ripple{
  from{transform:scale(0.8); opacity:0.4;}
  to{transform:scale(1.6); opacity:0;}
}


/* ---------- TABS ---------- */

.tabs{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:30px;
  flex-wrap:wrap;
}

.tab{
  padding:11px 26px;
  border-radius:25px;
  border:1px solid #f3d38f;
  color:#f3d38f;
  cursor:pointer;
  transition:0.35s;
}

.tab.active{
  background:#f3d38f;
  color:#111;
  box-shadow:0 0 15px rgba(243,211,143,0.4);
}

.tab-content{
  display:none;
  margin-top:25px;
  line-height:1.7;
  font-size:18px;
}

.tab-content.active{
  display:block;
}


/* ---------- BUTTON ---------- */

button{
  padding:12px 30px;
  border:none;
  border-radius:22px;
  background:#f3d38f;
  font-weight:500;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  background:#d4af37;
  transform:scale(1.05);
}

</style>
</head>
<body>


<div class="particles" id="particles"></div>


<!-- LOCK SCREEN -->
<div id="timeOverlay">
<div class="clock" id="clock"></div>

<div style="margin-top:30px; font-family:'Noto Serif Gurmukhi'; max-width:520px;">
This space awakens during Amrit Vela<br>
3:00 AM — 6:00 AM
</div>

<div class="lockHint">Return during sacred hours</div>
</div>


<!-- MAIN CARD -->
<div class="card" id="mainContent" style="display:none">

<div class="khanda" id="khanda">☬</div>

<h1>Good Morning Eeman</h1>
<div style="opacity:0.7; font-size:15px;">E To Be President</div>

<p>Quietly created for your growth and success today</p>

<div class="tabs">
<div class="tab active" data-tab="rakh">Rakh Charna</div>
<div class="tab" data-tab="affirm">Affirmations</div>
<div class="tab" data-tab="secret">Secret Blessing</div>
</div>

<div id="rakh" class="tab-content active">
<button onclick="playRakh(event)">Play Rakh Charna</button>
</div>

<div id="affirm" class="tab-content">
<p>
I am calm. I am ready. Waheguru walks beside me.<br>
I am prepared to face today with courage and joy.<br>
Each step I take brings me closer to success and growth.
</p>
</div>

<div id="secret" class="tab-content">
<p id="secretText">Tap the Khanda…</p>
</div>

</div>


<!-- AUDIO (UNCHANGED) -->
<audio id="aisanaam" loop>
<source src="./aisanaam.mp3">
</audio>

<audio id="rakhcharna">
<source src="./rakhcharna.mp3">
</audio>


<script>

/* ---------- CLOCK ---------- */

function updateClock(){
  const now=new Date();
  document.getElementById("clock").innerText=
  now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
}
setInterval(updateClock,1000);
updateClock();


/* ---------- PARTICLES ---------- */

const particleContainer=document.getElementById("particles");

for(let i=0;i<25;i++){
  const p=document.createElement("div");
  p.className="particle";
  p.style.left=Math.random()*100+"%";
  p.style.animationDuration=(8+Math.random()*6)+"s";
  p.style.animationDelay=Math.random()*10+"s";
  particleContainer.appendChild(p);
}


/* ---------- AUDIO (UNCHANGED) ---------- */

const aisanaam=document.getElementById("aisanaam");
const rakh=document.getElementById("rakhcharna");
let currentAudio=null;
let userStarted=false;

async function fadeOut(audio){
  return new Promise(resolve=>{
    let fade=setInterval(()=>{
      if(audio.volume>0.05){
        audio.volume-=0.05;
      }else{
        audio.pause();
        clearInterval(fade);
        resolve();
      }
    },80);
  });
}

async function playAudio(audio){
  if(currentAudio && currentAudio!==audio){
    await fadeOut(currentAudio);
  }
  audio.currentTime=0;
  audio.volume=0;
  audio.play();
  currentAudio=audio;
  let fade=setInterval(()=>{
    if(audio.volume<0.3) audio.volume+=0.02;
    else clearInterval(fade);
  },120);
}

function playRakh(event){
  event.stopPropagation();
  if(!rakh.paused) return;

  if(!aisanaam.paused){
    fadeOut(aisanaam).then(()=>{
      rakh.currentTime=0;
      rakh.volume=0;
      rakh.play();
      currentAudio=rakh;

      let fade=setInterval(()=>{
        if(rakh.volume<0.3) rakh.volume+=0.02;
        else clearInterval(fade);
      },120);
    });
  } else {
    rakh.currentTime=0;
    rakh.volume=0;
    rakh.play();
    currentAudio=rakh;

    let fade=setInterval(()=>{
      if(rakh.volume<0.3) rakh.volume+=0.02;
      else clearInterval(fade);
    },120);
  }

  rakh.onended=()=>playAudio(aisanaam);
}

document.body.addEventListener("click",()=>{
  if(!userStarted){
    playAudio(aisanaam);
    userStarted=true;
  }
});


/* ---------- TIME LOCK ---------- */

const overlay=document.getElementById("timeOverlay");
const content=document.getElementById("mainContent");

function checkTime(){
  const now=new Date();
  const h=now.getHours();

  if(h>=3 && h<6){
    overlay.style.opacity="0";

    setTimeout(()=>{
      overlay.style.display="none";
      content.style.display="block";
      document.body.classList.add("awaken");
    },1200);
  }
}
setInterval(checkTime,30000);
checkTime();


/* ---------- TABS ---------- */

document.querySelectorAll(".tab").forEach(tab=>{
  tab.onclick=()=>{
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(c=>c.classList.remove("active"));

    tab.classList.add("active");
    document.getElementById(tab.dataset.tab).classList.add("active");
  }
});


/* ---------- SECRET ---------- */

document.getElementById("khanda").onclick=()=>{
  document.getElementById("secretText").innerText=
  "Someone believes in you deeply and wants to see you rise. Big day coming — stay ready.";
};

</script>
</body>
</html>
